# STL

1. ### vector
   
   - ##### 实现
     
     - 顺序表
     
     - 内存连续，超过最大容量要移位
   
   - ##### 增
     
     - 超过最大容量要重新分配内存
     
     - 最大容量分配一般以1.5至2倍增加
   
   - ##### 删
     
     - daicha 
   
   - ##### 优缺点
     
     - 地址连续，查找、遍历方便
     
     - 增删操作效率低
     
     - 对内存的连续性要求高
   
   #### 

2. ### list
   
   - ##### 实现
     
     - 双向链表，有prev，next指针
   
   - ##### 增、插
     
     - 尾部插入常量时间
     
     - 使用`find()`函数获取插入点位置需要线性时间
   
   - ##### 删
     
     - 删除元素常量时间
     
     - 删除中间的元素，`end`迭代器不会失效
     
     - `end`迭代器使用尾部元素指向的空节点
   
   - ##### 优缺点
     
     - 插入删除常量时间
     
     - 但是获取元素索引需要线性时间
   
   - **双向链表**在插入和删除操作更好，单向链表删除需要获取前一个元素，而双向的话获取当前元素就好。

#### 

3. ### deque
   
   - ##### 实现
     
     - deque没有`capacity`的概念，它是动态地以分段连续空间组合而成
     
     - deque采用一块`map`(一小块连续空间，其中每个元素都是指针)，指向另一段连续线性空间（缓冲区，用来储存数据）
   
   - #### 增删查
     
     - **增**，中间也需要内存移动，后端增可能需要增加缓冲区，单不需要vector那样整体移动
     
     - **删**，跟vector差不多，但过程中可能多了用map计算各个缓冲区的地址
     
     - **查**，也提供随机访问，但是需要读取map计算地址，效率较vector要差
   
   - ##### 优缺点
     
     - 相对于vector在头部的操作效率较差，deque可以高效率在头尾双端操作
     
     - deque的迭代器不是普通指针，其复杂度和vector比差远了，对deque进行`sort()`排序，为了的高效率可以将deque复制到vector，再排序。
     
     - 每个缓冲区大小是一样的，假如大小为8，申请20个元素，则第三个缓冲区会有4个备用空间，用来以后使用


